<h1>Welcome to Event Management System</h1>

<% if user_signed_in? %>
  <div class="user-info">
    <h2>Welcome, <%= current_user.email %>!</h2>
    <p><strong>Role:</strong> <%= current_user.role&.humanize || "Not assigned" %></p>
    
    <% unless current_user.confirmed? %>
      <div class="alert alert-warning">
        <p><strong>‚ö†Ô∏è Email not confirmed!</strong></p>
        <p>Please check your email and click the confirmation link to fully activate your account.</p>
        <%= link_to "Resend confirmation email", new_user_confirmation_path, class: "btn btn-sm btn-outline" %>
      </div>
    <% end %>
    
    <div class="user-actions">
      <% if current_user_admin? %>
        <%= link_to "Admin Dashboard", admin_root_path, class: "btn btn-admin" %>
      <% else %>
        <p class="api-note">
          <strong>üì± Profile Management:</strong> Use our API endpoints for profile updates.
        </p>
      <% end %>
      <%= link_to "Sign Out", destroy_user_session_path, data: { "turbo-method": :delete }, class: "btn btn-secondary" %>
    </div>
  </div>
  
  <div class="user-content">
    <% if current_user_admin? %>
      <h3>Admin Functions</h3>
      <ul>
        <li><%= link_to "Manage Users", admin_users_path %></li>
        <li><%= link_to "View Dashboard", admin_root_path %></li>
      </ul>
    <% else %>
      <h3>User Functions</h3>
      <p>Welcome to the event management system! You have user access to the system.</p>
    <% end %>
  </div>
<% else %>
  <div class="authentication-section">
    <h2>Welcome to Event Management System</h2>
    <p class="welcome-subtitle">Join our community to discover and manage events</p>
    
    <div class="registration-options">
      <div class="registration-card admin-card">
        <div class="card-icon">‚öôÔ∏è</div>
        <h3>Admin Access</h3>
        <p>Manage the system, create events, and oversee user activities.</p>
        <ul class="feature-list">
          <li>User management</li>
          <li>System administration</li>
          <li>Analytics dashboard</li>
        </ul>
        <%= link_to "Admin Registration", new_admin_registration_path, class: "btn btn-admin btn-large" %>
      </div>
    </div>
    
    <div class="auth-options">
      <%= link_to "Already have an account? Sign In", new_user_session_path, class: "btn btn-outline" %>
    </div>
    
    <p class="auth-info">
      <strong>Note:</strong> Register for admin access to manage the system. 
      Regular user functionality available through API.
    </p>
  </div>
<% end %>
