<h1>Admin Dashboard</h1>

<div class="dashboard-stats">
  <h2>System Statistics</h2>
  
  <div class="stats-grid">
    <div class="stat-card">
      <h3>Total Users</h3>
      <p class="stat-number"><%= @total_users %></p>
    </div>
    
    <div class="stat-card">
      <h3>Admins</h3>
      <p class="stat-number"><%= @total_admins %></p>
    </div>
    
    <div class="stat-card">
      <h3>Regular Users</h3>
      <p class="stat-number"><%= @total_attendees %></p>
    </div>
  </div>
</div>

<div class="quick-actions">
  <h2>Quick Actions</h2>
  <%= link_to "Manage Users", admin_users_path, class: "btn btn-primary" %>
  <%= link_to "Back to Home", root_path, class: "btn btn-secondary" %>
</div>

<div class="recent-users">
  <h2>Recent Users</h2>
  <% if @recent_users.any? %>
    <table class="users-table">
      <thead>
        <tr>
          <th>Email</th>
          <th>Role</th>
          <th>Joined</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @recent_users.each do |user| %>
          <tr>
            <td><%= user.email %></td>
            <td><span class="role-badge role-<%= user.role %>"><%= user.role.humanize %></span></td>
            <td><%= user.created_at.strftime("%B %d, %Y") %></td>
            <td>
              <%= link_to "View", admin_user_path(user), class: "btn-small btn-primary" %>
              <%= link_to "Edit", edit_admin_user_path(user), class: "btn-small btn-secondary" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <p>No users found.</p>
  <% end %>
</div>
