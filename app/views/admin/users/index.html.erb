<div class="page-wrapper">
  <div class="page-header">
    <div class="container">
      <h1 class="page-title">👥 User Management</h1>
      <p class="page-subtitle">Manage system users and their roles</p>
      <%= link_to "← Back to Dashboard", admin_root_path, class: "btn btn-outline" %>
    </div>
  </div>

  <div class="container">
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">All Users</h3>
        <p class="card-subtitle">Total users: <%= @users.count %></p>
      </div>
      
      <% if @users.any? %>
        <div class="table-container">
          <table class="table">
            <thead>
              <tr>
                <th>User</th>
                <th>Role</th>
                <th>Joined</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <% @users.each do |user| %>
                <tr>
                  <td>
                    <div class="flex items-center gap-3">
                      <div class="flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full">
                        👤
                      </div>
                      <div>
                        <%= link_to admin_user_path(user), class: "text-gray-900" do %>
                          <div class="font-semibold"><%= user.name || 'No Name' %></div>
                          <div class="text-gray-500 text-sm"><%= user.email %></div>
                        <% end %>
                      </div>
                    </div>
                  </td>
                  <td>
                    <span class="status-badge status-<%= user.role == 'admin' ? 'info' : 'success' %>">
                      <%= user.role.humanize %>
                    </span>
                  </td>
                  <td class="text-gray-600"><%= user.created_at.strftime("%B %d, %Y") %></td>
                  <td class="text-right">
                    <%= link_to "View", admin_user_path(user), class: "btn btn-info btn-small" %>
                  </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      <% else %>
        <div class="card-body">
          <div class="text-center py-4">
            <h4 class="text-gray-500">No users found</h4>
            <p class="text-gray-400">There are no users in the system yet.</p>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>